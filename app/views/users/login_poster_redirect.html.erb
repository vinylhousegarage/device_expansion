<script>
  fetch('<%= login_poster_user_path(@user) %>', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json',
      'X-CSRF-Token': '<%= form_authenticity_token %>'
    }
  }).then(response => {
    if (response.redirected) {
      window.location.href = response.url;
    } else {
      document.body.innerHTML += `<p>Not redirected: ${response.status}</p>`;
    }
  }).catch(error => {
    document.body.innerHTML += `<p>Error: ${error.message}</p>`;
  });
</script>
